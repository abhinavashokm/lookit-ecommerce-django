{% extends 'user_base/base.html' %}
{% load static %}
{% block styles %}
<link rel="stylesheet" href="{% static 'order/css/checkout.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
{% endblock %}

{% block content %}

<!-- Main Content -->
<div class="container">
    <!-- Breadcrumbs -->
    <div class="breadcrumbs">
        <a href="{% url 'cart' %}">Shopping Cart</a>
        <span>/</span>
        <span>Checkout</span>
    </div>

    <!-- Order Summary -->
    <div class="order-summary">
        <h3>Order Summary</h3>
        <table class="product-table">
            <thead>
                <tr>
                    <th>Product</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <div class="product-info">
                            <img src="https://via.placeholder.com/80x100" alt="Classic White Tee" class="product-image">
                            <div>
                                <div class="product-name">Classic White Tee</div>
                                <div class="product-variant">Size: M</div>
                            </div>
                        </div>
                    </td>
                    <td class="product-price">$25.00</td>
                    <td class="product-quantity">2</td>
                    <td class="product-total">$50.00</td>
                </tr>
                <tr>
                    <td>
                        <div class="product-info">
                            <img src="https://via.placeholder.com/80x100" alt="Vintage Black Tee" class="product-image">
                            <div>
                                <div class="product-name">Vintage Black Tee</div>
                                <div class="product-variant">Size: L</div>
                            </div>
                        </div>
                    </td>
                    <td class="product-price">$30.00</td>
                    <td class="product-quantity">1</td>
                    <td class="product-total">$30.00</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="checkout-layout">
        <div class="delivery-address">
            <h3>Select Delivery Address</h3>
            <div class="address-options">
                <div class="address-option selected">
                    <input type="radio" name="delivery-address" id="address-1" class="address-radio" checked>
                    <div class="address-details">
                        <div class="address-header">
                            <div class="address-name">John Doe</div>
                            <span class="default-badge">Default</span>
                        </div>
                        <p class="address-text">123 Maple Street, Anytown, USA 12345</p>
                        <div class="address-phone">+1 (555) 123-4567</div>
                        <div class="address-actions">
                            <button class="edit-address" data-address-id="1">
                                <i class="far fa-edit"></i> Edit
                            </button>
                            <button class="remove-address" data-address-id="1">
                                <i class="far fa-trash-alt"></i> Remove
                            </button>
                        </div>
                    </div>
                </div>
                <div class="address-option">
                    <input type="radio" name="delivery-address" id="address-2" class="address-radio">
                    <div class="address-details">
                        <div class="address-name">Jane Smith</div>
                        <p class="address-text">456 Oak Avenue, Springfield, USA 54321</p>
                        <div class="address-phone">+1 (555) 987-6543</div>
                        <div class="address-actions">
                            <button class="edit-address" data-address-id="2">
                                <i class="far fa-edit"></i> Edit
                            </button>
                            <button class="remove-address" data-address-id="2">
                                <i class="far fa-trash-alt"></i> Remove
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <button class="add-address-btn">
                <i class="fas fa-plus"></i> Add New Address
            </button>
        </div>

        <div class="price-summary">
            <h3>Price Details</h3>
            <div class="price-row">
                <span>Total</span>
                <span class="price-value">$80.00</span>
            </div>
            <div class="price-row">
                <span>Delivery Fee</span>
                <span class="price-value">$5.00</span>
            </div>
            <div class="price-row discount">
                <span>Discount</span>
                <span class="price-value">-$10.00</span>
            </div>
            <div class="price-row">
                <span>GST & Taxes</span>
                <span class="price-value">$7.50</span>
            </div>
            <div class="price-row total">
                <span>Final Amount</span>
                <span class="price-value">$82.50</span>
            </div>
            <button class="checkout-btn">
                Continue to Payment
                <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </div>
</div>

<!-- Add Address Modal -->
<div class="modal" id="addAddressModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3><i class="fas fa-map-marker-alt"></i> Add New Address</h3>
            <button class="close-modal" aria-label="Close modal">&times;</button>
        </div>
        <div class="modal-body">
            <form id="addressForm">
                <div class="form-section">
                    <h4 class="section-title">Contact Information</h4>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="fullName">Full Name <span class="required">*</span></label>
                            <div class="input-with-icon">
                                <i class="fas fa-user"></i>
                                <input type="text" id="fullName" placeholder="John Doe" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">Phone Number <span class="required">*</span></label>
                            <div class="input-with-icon">
                                <i class="fas fa-phone"></i>
                                <input type="tel" id="phone" placeholder="+1 (555) 123-4567" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="altPhone">Alternative Phone</label>
                            <div class="input-with-icon">
                                <i class="fas fa-phone-alt"></i>
                                <input type="tel" id="altPhone" placeholder="+1 (555) 987-6543">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h4 class="section-title">Address Details</h4>
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label for="address">Address Line <span class="required">*</span></label>
                            <div class="input-with-icon">
                                <i class="fas fa-map-marked-alt"></i>
                                <input type="text" id="address" placeholder="123 Main St, Apt 4B" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="city">City <span class="required">*</span></label>
                            <div class="input-with-icon">
                                <i class="fas fa-city"></i>
                                <input type="text" id="city" placeholder="New York" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="state">State <span class="required">*</span></label>
                            <div class="input-with-icon">
                                <i class="fas fa-flag"></i>
                                <input type="text" id="state" placeholder="New York" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="zipCode">ZIP/Postal Code <span class="required">*</span></label>
                            <div class="input-with-icon">
                                <i class="fas fa-mail-bulk"></i>
                                <input type="text" id="zipCode" placeholder="10001" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="addressType">Address Type <span class="required">*</span></label>
                            <div class="select-wrapper">
                                <i class="fas fa-tag"></i>
                                <select id="addressType" required>
                                    <option value="" disabled selected>Select address type</option>
                                    <option value="home">üè† Home</option>
                                    <option value="work">üè¢ Work</option>
                                    <option value="other">üìç Other</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <div class="form-options">
                        <label class="checkbox-container">
                            <input type="checkbox" id="defaultAddress">
                            <span class="checkmark"></span>
                            Set as default shipping address
                        </label>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-outline">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Save Address
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script src="{% static 'order/js/checkout.js' %}"></script>
{% endblock %}