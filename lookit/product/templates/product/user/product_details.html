{% extends 'user_base/base.html' %}
{% load static %}
{% block styles %}
<link rel="stylesheet" href="{% static 'product/user/css/product_details.css' %}">

{% endblock %}

<!-- Main Content -->
{% block content %}
<!-- Breadcrumb -->
<div class="breadcrumb">
    <a href="{% url 'index' %}">Home</a>
    <span>/</span>
    <a href="{% url 'explore' %}?category={{ product.category }}">{{ product.category }}</a>
    <span>/</span>
    <span class="current">{{ product.name }}</span>
</div>

<!-- Product Details Container -->
<div class="product-details-container">
    <div class="product-main">
        <!-- Left Side - Product Images -->
        <div class="product-images">
            <div class="product-images-wrapper">
                <div class="thumbnail-images">
                    <div class="thumbnail active" onclick="changeImage(0)">
                        <div
                            style="width: 100%; height: 100%; background: linear-gradient(135deg, #ff6b6b, #ff8e53, #333); display: flex; align-items: center; justify-content: center; color: white; font-size: 0.7rem;">
                            Image 1</div>
                    </div>
                    <div class="thumbnail" onclick="changeImage(1)">
                        <div
                            style="width: 100%; height: 100%; background: linear-gradient(135deg, #4ecdc4, #ff8e53, #f5e6d3); display: flex; align-items: center; justify-content: center; color: white; font-size: 0.7rem;">
                            Image 2</div>
                    </div>
                </div>
                <div class="main-image-container">
                    {% if product.image_url != ' ' %}
                    <img class="main-image" id="mainImage" src="{{ product.image_url }}" alt="">
                    {% else %}
                    <div class="main-image" id="mainImage">
                        <div
                            style="width: 100%; height: 100%; background: linear-gradient(135deg, #ff6b6b, #ff8e53, #333); display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem; font-weight: bold;">
                            {{ product.name }}</div>
                    </div>
                    {% endif %}


                    <div class="zoom-icon" onclick="openImageModal()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="action-buttons-left">
                <button class="btn-wishlist">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                    </svg>
                    Add to Wishlist
                </button>
                <button class="btn-cart">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                    </svg>
                    Add to Cart
                </button>
            </div>
        </div>

        <!-- Right Side - Product Info -->
        <div class="product-info">
            <h1 class="product-title">{{ product.name }}</h1>
            <p class="product-brand">{{ product.brand }}</p>

            <div class="price-section">
                <div class="price-special-label">Special price</div>
                <div class="price-container">
                    <div class="price">₹{{ product.price }}</div>
                    <div class="price-old">₹{{ old_price }}</div>
                    <div class="price-offer-container">
                        <div class="price-offer">20% off on {{ product.category | lower }}'s tshirt</div>
                        <div class="price-info-icon" title="Discount information">i</div>
                    </div>
                </div>
                <div class="stock-info">
                    <span class="stock-label">Availability:</span>
                    <div class="stock-status">
                        <span class="stock-indicator"></span>
                        <span class="stock-text">In Stock</span>
                    </div>
                </div>
            </div>

            <p class="product-description">
                {{ product.description }}
            </p>

            <div class="size-section">
                <h2 class="section-heading">Select Size</h2>
                <div class="size-options">
                    <button class="size-btn" onclick="selectSize(this)">XS</button>
                    <button class="size-btn" onclick="selectSize(this)">S</button>
                    <button class="size-btn active" onclick="selectSize(this)">M</button>
                    <button class="size-btn" onclick="selectSize(this)">L</button>
                    <button class="size-btn" onclick="selectSize(this)">XL</button>
                    <button class="size-btn" onclick="selectSize(this)">XXL</button>
                </div>
                <div class="quantity-section">
                    <div class="quantity-control">
                        <span class="quantity-label">Quantity:</span>
                        <div class="quantity-input-group">
                            <button class="quantity-btn-minus" onclick="decreaseQuantity()">−</button>
                            <input type="number" class="quantity-input" id="quantityInput" value="1" min="1" max="10"
                                readonly>
                            <button class="quantity-btn-plus" onclick="increaseQuantity()">+</button>
                        </div>
                    </div>
                </div>
                <div class="action-buttons-mobile">
                    <button class="btn-wishlist">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                        </svg>
                        Add to Wishlist
                    </button>
                    <button class="btn-cart">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                        </svg>
                        Add to Cart
                    </button>
                </div>
            </div>

            <div class="product-details-section">
                <h2 class="section-heading">Product Details</h2>
                <div class="detail-item">
                    <span class="detail-label">Category:</span>
                    <span class="detail-value">{{ product.category }}</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Style:</span>
                    <span class="detail-value">{{ product.style.name }}</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Material:</span>
                    <span class="detail-value">{{ product.material }}</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Fit:</span>
                    <span class="detail-value">{{ product.fit }}</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Care Instructions:</span>
                    <span class="detail-value">{{ product.care_instructions }}</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Image Modal -->
<div class="image-modal" id="imageModal" onclick="closeImageModalOnBackdrop(event)">
    <div class="modal-content">
        <button class="modal-nav prev" onclick="changeModalImage(-1)">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
            </svg>
        </button>
        <div class="modal-image" id="modalImage">

            {% if product.image_url != ' ' %}
            <img id="modalImageContent" src="{{product.image_url}}" alt="">
            {% else %}
            <div id="modalImageContent" style="background-image: url({{product.image_url}});"></div>
            {% endif %}

            <button class="modal-close" onclick="event.stopPropagation(); closeImageModal();">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                </svg>
            </button>
        </div>
        <button class="modal-nav next" onclick="changeModalImage(1)">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" />
            </svg>
        </button>
    </div>
</div>

<!-- Reviews Section -->
<div class="reviews-section">
    <h2 class="section-heading">Customer Reviews</h2>
    <div class="reviews-header">
        <div class="overall-rating">
            <div class="rating-number">4.7</div>
            <div class="rating-stars">★★★★☆</div>
            <div class="rating-count">85 reviews</div>
        </div>
        <div class="rating-breakdown">
            <div class="breakdown-item">
                <span class="breakdown-label">5 ★</span>
                <div class="breakdown-bar">
                    <div class="breakdown-fill" style="width: 50%;"></div>
                </div>
                <span class="breakdown-percent">50%</span>
            </div>
            <div class="breakdown-item">
                <span class="breakdown-label">4 ★</span>
                <div class="breakdown-bar">
                    <div class="breakdown-fill" style="width: 30%;"></div>
                </div>
                <span class="breakdown-percent">30%</span>
            </div>
            <div class="breakdown-item">
                <span class="breakdown-label">3 ★</span>
                <div class="breakdown-bar">
                    <div class="breakdown-fill" style="width: 10%;"></div>
                </div>
                <span class="breakdown-percent">10%</span>
            </div>
            <div class="breakdown-item">
                <span class="breakdown-label">2 ★</span>
                <div class="breakdown-bar">
                    <div class="breakdown-fill" style="width: 7%;"></div>
                </div>
                <span class="breakdown-percent">7%</span>
            </div>
            <div class="breakdown-item">
                <span class="breakdown-label">1 ★</span>
                <div class="breakdown-bar">
                    <div class="breakdown-fill" style="width: 3%;"></div>
                </div>
                <span class="breakdown-percent">3%</span>
            </div>
        </div>
    </div>

    <div class="review-list">
        <div class="review-item">
            <div class="review-header">
                <div class="review-avatar">EH</div>
                <div class="review-info">
                    <div class="review-name">Ethan Harper</div>
                    <div class="review-date">1 month ago</div>
                </div>
                <div class="review-stars">★★★★★</div>
            </div>
            <p class="review-text">
                The abstract design is even more striking in person. The tee is comfortable and fits well. I've received
                many compliments on it!
            </p>
            <div class="review-actions">
                <div class="review-action" onclick="toggleLike(this)">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z" />
                    </svg>
                    <span class="like-count">20</span>
                </div>
            </div>
        </div>

        <div class="review-item">
            <div class="review-header">
                <div class="review-avatar">OB</div>
                <div class="review-info">
                    <div class="review-name">Olivia Bennett</div>
                    <div class="review-date">2 months ago</div>
                </div>
                <div class="review-stars">★★★★☆</div>
            </div>
            <p class="review-text">
                Love the unique design of this t-shirt. The material is soft and the fit is just right. It's a great
                addition to my wardrobe.
            </p>
            <div class="review-actions">
                <div class="review-action" onclick="toggleLike(this)">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z" />
                    </svg>
                    <span class="like-count">15</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Related Products -->
<div class="related-products">
    <h2 class="related-title">Related Products</h2>
    <div class="related-grid">
        <div class="related-card">
            <div class="related-image" style="background: linear-gradient(135deg, #ffe5d9, #ffd4c4);"></div>
            <div class="related-info">
                <div class="related-name">Graphic Print Tee</div>
                <div class="related-price">$39.99</div>
            </div>
        </div>
        <div class="related-card">
            <div class="related-image" style="background: linear-gradient(135deg, #2c2c2c, #1a1a1a);"></div>
            <div class="related-info">
                <div class="related-name">Patterned Tee</div>
                <div class="related-price">$29.99</div>
            </div>
        </div>
        <div class="related-card">
            <div class="related-image" style="background: linear-gradient(135deg, #f5e6d3, #e8d5c0);"></div>
            <div class="related-info">
                <div class="related-name">Artistic Tee</div>
                <div class="related-price">$44.99</div>
            </div>
        </div>
        <div class="related-card">
            <div class="related-image" style="background: linear-gradient(135deg, #e0f2f1, #b2dfdb);"></div>
            <div class="related-info">
                <div class="related-name">Minimalist Tee</div>
                <div class="related-price">$28.99</div>
            </div>
        </div>
        <div class="related-card">
            <div class="related-image" style="background: linear-gradient(135deg, #fff3e0, #ffe0b2);"></div>
            <div class="related-info">
                <div class="related-name">Sunset Tee</div>
                <div class="related-price">$33.99</div>
            </div>
        </div>
        <div class="related-card">
            <div class="related-image" style="background: linear-gradient(135deg, #e8e8e8, #d5d5d5);"></div>
            <div class="related-info">
                <div class="related-name">Geometric Tee</div>
                <div class="related-price">$31.99</div>
            </div>
        </div>
        <div class="related-card">
            <div class="related-image" style="background: linear-gradient(135deg, #ff6b6b, #ff8e53);"></div>
            <div class="related-info">
                <div class="related-name">Vibrant Tee</div>
                <div class="related-price">$35.99</div>
            </div>
        </div>
    </div>
</div>


{% endblock %}

{% block scripts %}
<script src="{% static 'product/user/js/product_details.js' %}"></script>
{% endblock %}