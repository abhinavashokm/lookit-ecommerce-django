{% extends 'admin_base/base.html' %}
{% load static %}
{% block styles %}
<link rel="stylesheet" href="{% static 'staff/css/dashboard.css' %}">
{% endblock %}

<!-- Main Content -->
{% block content %}
        <main class="main-content">
            <!-- Dashboard Header -->
            <div class="dashboard-header">
                <h1>Dashboard</h1>
                <select class="time-filter">
                    <option>Last Week</option>
                    <option>Last Month</option>
                    <option>Last Quarter</option>
                    <option>Last Year</option>
                </select>
            </div>

            <!-- KPI Cards -->
            <div class="kpi-grid">
                <div class="kpi-card">
                    <h3>Total Sales</h3>
                    <div class="value">$25,450</div>
                    <div class="change positive">+12%</div>
                </div>
                <div class="kpi-card">
                    <h3>Total Orders</h3>
                    <div class="value">1,235</div>
                    <div class="change positive">+8%</div>
                </div>
                <div class="kpi-card">
                    <h3>Avg Order Value</h3>
                    <div class="value">‚Çπ1980</div>
                    <div class="change positive">+5%</div>
                </div>
                <div class="kpi-card">
                    <h3>New Users</h3>
                    <div class="value">345</div>
                    <div class="change positive">+5%</div>
                </div>
                <div class="kpi-card hidden-mobile">
                    <h3>Active Users</h3>
                    <div class="value">25</div>
                    <div class="change neutral">‚Äî</div>
                </div>
                <div class="kpi-card hidden-mobile">
                    <h3>Active Offers</h3>
                    <div class="value">4 active</div>
                    <div class="change neutral">‚Äî</div>
                </div>
                <div class="kpi-card hidden-mobile">
                    <h3>Pending Orders</h3>
                    <div class="value">25</div>
                    <div class="change negative">-2%</div>
                </div>
                <div class="kpi-card hidden-mobile">
                    <h3>Active Coupons</h3>
                    <div class="value">6 active</div>
                    <div class="change neutral">‚Äî</div>
                </div>
            </div>
            <div class="kpi-toggle-container">
                <button class="kpi-toggle-btn" id="kpiToggle" onclick="toggleKPICards()">
                    <span>‚ñº</span>
                    <span id="toggleText">Show More</span>
                </button>
            </div>




            <!-- Content Grid -->
            <div class="content-grid">

                <!-- Sales Performance Chart -->
                <div class="card full-width">
                    <div class="card-header">
                        <div>
                        <div class="card-title">Sales Performance</div>
                        <div class="card-subtitle">This Month</div>
                        </div>
                        <div class="value" style="font-size: 1.5rem;">‚Çπ25,450</div>
                    </div>

                    <div class="chart-wrapper">
                        <canvas id="salesChart"></canvas>
                    </div>
                </div>

                 <!-- Sales Overview -->
                <div class="card">
                    <div class="card-header">
                        <div>
                            <div class="card-title">Sales Overview</div>
                            <div class="card-subtitle">Last 30 Days +12%</div>
                        </div>
                        <div class="value" style="font-size: 1.5rem;">$25,450</div>
                    </div>
                    <div class="chart-container">
                        <div class="chart-bar" style="height: 60%;"></div>
                        <div class="chart-bar" style="height: 75%;"></div>
                        <div class="chart-bar" style="height: 50%;"></div>
                        <div class="chart-bar" style="height: 85%;"></div>
                        <div class="chart-bar" style="height: 70%;"></div>
                        <div class="chart-bar" style="height: 90%;"></div>
                        <div class="chart-bar" style="height: 65%;"></div>
                    </div>
                    <div class="chart-labels">
                        <span>Jan</span>
                        <span>Feb</span>
                        <span>Mar</span>
                        <span>Apr</span>
                        <span>May</span>
                        <span>Jun</span>
                        <span>Jul</span>
                    </div>
                </div>

                <!-- Top Selling Categories -->
                <div class="card">
                    <div class="card-header">
                        <div>
                            <div class="card-title">Top Selling Categories</div>
                            <div class="card-subtitle">This Month +5%</div>
                        </div>
                        <div class="value" style="font-size: 1.5rem;">25%</div>
                    </div>
                    <div class="category-bars">
                        <div class="category-item">
                            <div class="category-label">T-shirts</div>
                            <div class="category-bar-container">
                                <div class="category-bar" style="width: 85%;"></div>
                            </div>
                        </div>
                        <div class="category-item">
                            <div class="category-label">Hoodies</div>
                            <div class="category-bar-container">
                                <div class="category-bar" style="width: 70%;"></div>
                            </div>
                        </div>
                        <div class="category-item">
                            <div class="category-label">Sweatshirts</div>
                            <div class="category-bar-container">
                                <div class="category-bar" style="width: 60%;"></div>
                            </div>
                        </div>
                        <div class="category-item">
                            <div class="category-label">Tank Tops</div>
                            <div class="category-bar-container">
                                <div class="category-bar" style="width: 45%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Second Row - Vertical Stack -->
            <div style="display: flex; flex-direction: column; gap: 20px; margin-bottom: 20px;">
                <!-- Quick Actions -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Quick Actions</div>
                    </div>
                    <div class="quick-actions">
                        <button class="btn btn-primary">Add New Product</button>
                        <button class="btn btn-secondary">Create Offer</button>
                    </div>
                </div>

                <!-- Alerts -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Alerts</div>
                    </div>
                    <div class="alert-content">
                        <div class="alert-item warning">
                            <div class="alert-icon">‚ö†Ô∏è</div>
                            <div class="alert-details">
                                <div class="alert-title">Low Stock Alert</div>
                                <div class="alert-description">12 products running low on inventory</div>
                                <div class="alert-time">üïê 2 hours ago</div>
                            </div>
                        </div>
                        <div class="alert-item info">
                            <div class="alert-icon">‚ÑπÔ∏è</div>
                            <div class="alert-details">
                                <div class="alert-title">New Orders Pending</div>
                                <div class="alert-description">5 orders awaiting review and processing</div>
                                <div class="alert-time">üïê 5 hours ago</div>
                            </div>
                        </div>
                        <div class="alert-item danger">
                            <div class="alert-icon">üö®</div>
                            <div class="alert-details">
                                <div class="alert-title">Payment Issues</div>
                                <div class="alert-description">3 orders have payment processing errors</div>
                                <div class="alert-time">üïê 1 day ago</div>
                            </div>
                        </div>
                        <div class="alert-item success">
                            <div class="alert-icon">‚úÖ</div>
                            <div class="alert-details">
                                <div class="alert-title">Campaign Successful</div>
                                <div class="alert-description">New promotion generated 150+ orders</div>
                                <div class="alert-time">üïê 2 days ago</div>
                            </div>
                        </div>
                        <div class="alert-item info">
                            <div class="alert-icon">üìä</div>
                            <div class="alert-details">
                                <div class="alert-title">Monthly Report Ready</div>
                                <div class="alert-description">Sales report for July is now available</div>
                                <div class="alert-time">üïê 3 days ago</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="card" style="margin-top: 20px;">
                <div class="card-header">
                    <div class="card-title">Recent Activity</div>
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Date</th>
                                <th>Status</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>#12345</td>
                                <td>Sophia Clark</td>
                                <td>2024-07-20</td>
                                <td><span class="status-badge status-shipped">Shipped</span></td>
                                <td>$55</td>
                            </tr>
                            <tr>
                                <td>#12346</td>
                                <td>Liam Walker</td>
                                <td>2024-07-25</td>
                                <td><span class="status-badge status-processing">Processing</span></td>
                                <td>$75</td>
                            </tr>
                            <tr>
                                <td>#12347</td>
                                <td>Ava Harris</td>
                                <td>2024-07-24</td>
                                <td><span class="status-badge status-delivered">Delivered</span></td>
                                <td>$40</td>
                            </tr>
                            <tr>
                                <td>#12348</td>
                                <td>Noah Carter</td>
                                <td>2024-07-23</td>
                                <td><span class="status-badge status-shipped">Shipped</span></td>
                                <td>$00</td>
                            </tr>
                            <tr>
                                <td>#12349</td>
                                <td>Isabella Reed</td>
                                <td>2024-07-22</td>
                                <td><span class="status-badge status-processing">Processing</span></td>
                                <td>$90</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </main>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

<script src="{% static 'staff/js/dashboard.js' %}"></script>
{% endblock %}